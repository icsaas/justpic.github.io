<html><body><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>jupyter on 桑河一榆</title><link/>https://justpic.org/tags/jupyter/<description>Recent content in jupyter on 桑河一榆</description><generator>justpic</generator><language>zh-CN</language><managingeditor>matrix.orz@gmail.com (justpic)</managingeditor><webmaster>matrix.orz@gmail.com (justpic)</webmaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastbuilddate>Mon, 09 Mar 2020 23:30:29 +0800</lastbuilddate><atom:link href="https://justpic.org/tags/jupyter/index.xml" rel="self" type="application/rss+xml"></atom:link><item><title>Jupyter最佳实践</title><link/>https://justpic.org/post/2020/03/09/jupyter-best-practice/<pubdate>Mon, 09 Mar 2020 23:30:29 +0800</pubdate><author>matrix.orz@gmail.com (justpic)</author><guid>https://justpic.org/post/2020/03/09/jupyter-best-practice/</guid><description><p>广受各大企业赞助的<a href="https://jupyter.org/about" rel="noopener noreffer" target="_blank">jupyter团队</a>
所开发的jupyter系列产品(主要包括jupyter notebook、jupyterlab和jupyterhub)，在数据科学领域变得越来越火热，依托python强大的语言生态，得益于其良好的扩展性和友好的用户交互，jupyter逐渐成为数据分析可视化的首选开源工具之一，下面将对数据分析实践过程中针对jupyter的调研分析进行小结.如果你正在使用python语言进行相关数据分析，本文所记录的jupyter相关实践可能对你会有所帮助。</p><div class="hugo-encryptor-container"><div class="hugo-encryptor-prompt"><p>文章的部分内容被密码保护：</p></div><div class="hugo-encryptor-form"><input class="hugo-encryptor-input" placeholder="请输入密码"/><input class="hugo-encryptor-button" onclick="_click_handler(this)" type="button" value="点击验证"/></div><div class="hugo-encryptor-cipher-text" style="display: none;">H+LJ0OExuMhwMkllHSMz+R7otx8cAgXPuZONswo/X9sqJRUa5wieJ20pi7ajp3kNNmjR1C+Y2KPueoJqY8+lGg8BZvOZkXMpT7tyQpAoovMV2qunM1As+b7z4Rmt2D3H</div></div><hr/><blockquote><p>本文将主要从jupyter产品介绍、产品（jupyter notebook、jupyter lab和jupyterhub）的安装试用、jupyter 扩展优化、以及jupyter竞品分析等四大方面对jupyter的实践进行一个简短的介绍和回顾：</p></blockquote><h2 id="jupyter产品介绍">jupyter产品介绍：</h2><p>根据jupyter官方网站，jupyter产品主要包括jupyter notebook、jupyter lab和jupyterhub三款产品，根据文章<code>jupyter notebook、jupyterlab与jupyterhub的区别与联系</code><sup id="fnref:1"><a class="footnote-ref" href="#fn:1" role="doc-noteref">1</a></sup>,三者的联系和区别如下：</p><ol><li>jupyter notebook提供了一个交互友好的类webIDE环境，但Jupyter Notebook 是传统的单体服务架构模式, 缺少多用户管理和访问认证等方面的功能, 无法直接部署于计算集群上, 难以充分利用和调度计算中心的计算资源 。</li><li>jupyter lab提供了单用户管理和认证，没有提供独立的工作空间，与jupyter notebook相比，功能更为丰富。</li><li>jupyter hub提供了多用户管理和认证，支持OAuth协议，为用户提供了独立的工作空间，工作内容可以私有不共享。</li></ol><p>在了解了jupyter系列产品后，就可以进行产品的安装和使用了。当然你也可以参考这些文章2<sup id="fnref:2"><a class="footnote-ref" href="#fn:2" role="doc-noteref">2</a></sup>和3<sup id="fnref:3"><a class="footnote-ref" href="#fn:3" role="doc-noteref">3</a></sup>、4<sup id="fnref:4"><a class="footnote-ref" href="#fn:4" role="doc-noteref">4</a></sup>、5<sup id="fnref:5"><a class="footnote-ref" href="#fn:5" role="doc-noteref">5</a></sup>来快速入门jupyter的使用.</p><h2 id="产品安装使用">产品安装使用</h2><h3 id="安装">安装</h3><blockquote><p>根据以上的产品介绍，可以根据自己的需求选择安装jupyter notebook、jupyter lab还是jupyterhub。具体参考建议如下：</p><ol><li>个人本地使用，安装快速方便–jupyter notebook</li><li>个人使用，可能会远程操作，需要额外的安装工作–jupyter lab</li><li>小型团队使用，可能需要额外的运维工作– jupyter hub</li></ol></blockquote><p><strong>安装jupyter notebook</strong><br/>
jupyter notebook目前已经包含在Anaconda安装包中，随Anaconda将一同安装，不需要额外的安装操作，如果你想了解更多jupyter notebook安装细节，可以参考文章<sup id="fnref:6"><a class="footnote-ref" href="#fn:6" role="doc-noteref">6</a></sup>和文章<sup id="fnref:7"><a class="footnote-ref" href="#fn:7" role="doc-noteref">7</a></sup>。</p><p><strong>安装jupyter lab</strong><br/>
jupyter lab可以通过pip，conda命令(Anaconda环境)作为jupyter notebook的扩展进行选装。
安装命令如下：</p><div class="highlight"><div class="chroma"><table class="lntable"><tr><td class="lntd"><pre class="chroma"><code><span class="lnt">1</span><span class="lnt">2</span><span class="lnt">3</span></code></pre></td><td class="lntd"><pre class="chroma"><code class="language-shell" data-lang="shell">pip install jupyterlab<span class="c1">#或者</span>
conda install -c conda-forge jupyterlab</code></pre></td></tr></table></div></div><p>使用过程中，jupyterlab的作用更像一个功能强大的webshell，除支持文件上传，命令行等操作外，能够更直观地管理jupyter notebook的其他扩展。</p><p><strong>安装jupyterhub</strong><br/>
jupyterhub的docker化安装步骤如下：</p><div class="highlight"><div class="chroma"><table class="lntable"><tr><td class="lntd"><pre class="chroma"><code><span class="lnt"> 1</span><span class="lnt"> 2</span><span class="lnt"> 3</span><span class="lnt"> 4</span><span class="lnt"> 5</span><span class="lnt"> 6</span><span class="lnt"> 7</span><span class="lnt"> 8</span><span class="lnt"> 9</span><span class="lnt">10</span><span class="lnt">11</span><span class="lnt">12</span><span class="lnt">13</span><span class="lnt">14</span><span class="lnt">15</span><span class="lnt">16</span><span class="lnt">17</span><span class="lnt">18</span><span class="lnt">19</span><span class="lnt">20</span><span class="lnt">21</span><span class="lnt">22</span></code></pre></td><td class="lntd"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1">#step1.创建共享目录</span><span class="nv">$mkdir</span> -p<span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/jupyterhub/jupyterhub<span class="nv">$mkdir</span> -p<span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/jupyterhub/home<span class="c1">#step2.启动镜像</span><span class="c1">#docker run -p 8000:8000 -d --name jupyterhub -v /opt/jupyterhub/jupyterhub:/srv/jupyterhub -v /opt/jupyterhub/home:/home --restart=always jupyterhub/jupyterhub jupyterhub</span>
docker run -p 8000:8000 -d --name jupyterhub -v<span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/jupyterhub/jupyterhub:/srv/jupyterhub -v<span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/jupyterhub/home:/home jupyterhub/jupyterhub jupyterhub<span class="c1">#step3.进入到容器内操作</span>
docker<span class="nb">exec</span> -it jupyterhub bash
chmod -R<span class="m">777</span> /home<span class="c1">#step4.添加用户和设置密码</span>
useradd jupyterhub
passwd jupyterhub<span class="c1">#step5.浏览器访问测试</span>
http://<span class="o">{</span>yourip<span class="o">}</span>:8000
!替换yourip为本机ip地址</code></pre></td></tr></table></div></div><h3 id="使用">使用</h3><p><strong>启动jupyter</strong></p><ol><li>启动jupyter notebook<div class="highlight"><div class="chroma"><table class="lntable"><tr><td class="lntd"><pre class="chroma"><code><span class="lnt">1</span></code></pre></td><td class="lntd"><pre class="chroma"><code class="language-shell" data-lang="shell">jupyter notebook<span class="c1"># 更多命令可额外输入--help进行查看</span></code></pre></td></tr></table></div></div></li><li>启动jupyter lab<div class="highlight"><div class="chroma"><table class="lntable"><tr><td class="lntd"><pre class="chroma"><code><span class="lnt">1</span></code></pre></td><td class="lntd"><pre class="chroma"><code class="language-shell" data-lang="shell">jupyter lab<span class="c1"># 更多命令可额外输入--help进行查看</span></code></pre></td></tr></table></div></div></li></ol><p><strong>excel表格处理</strong><br/>
jupyternotebook中使用pandas可以方便的处理excel文件，简单的差集、并集、交集运算使用几句简单的代码即可完成。<br/><strong>数据可视化分析</strong><br/>
结合pandas工具包可以非常方便的进行数据的基础分析，使用plot工具包可以完成交互性比较友好的动态数据分析图表。</p><h2 id="jupyter扩展">jupyter扩展</h2><p>为了提升jupyter的使用体验，目前已经有非常多的jupyter扩展可供使用，其范围除了优化其本身可视化交互体验之外，还涵盖了排版、多语言支持等功能。<br/>
文章8<sup id="fnref:8"><a class="footnote-ref" href="#fn:8" role="doc-noteref">8</a></sup>介绍了常用的99种jupyter扩展，
文章9<sup id="fnref:9"><a class="footnote-ref" href="#fn:9" role="doc-noteref">9</a></sup>中所介绍的扩展主要围绕人工智能（AI）进行展开，
文章10<sup id="fnref:10"><a class="footnote-ref" href="#fn:10" role="doc-noteref">10</a></sup>介绍了提升jupyter使用环境体验的相关实践，
文章11<sup id="fnref:11"><a class="footnote-ref" href="#fn:11" role="doc-noteref">11</a></sup>介绍了扩展jupyter的99种方法，
文章12<sup id="fnref:12"><a class="footnote-ref" href="#fn:12" role="doc-noteref">12</a></sup>介绍了生成pages的方法，
文章13<sup id="fnref:13"><a class="footnote-ref" href="#fn:13" role="doc-noteref">13</a></sup>中通过低代码方式使用jupyter notebook，进一步降低了jupyter的难度、提高了jupyter的交互友好度。
文章14<sup id="fnref:14"><a class="footnote-ref" href="#fn:14" role="doc-noteref">14</a></sup>主要介绍了jupyter notebook的基础架构，如果需要进行进一步应用开发集成，对其基础架构了解是必须的。</p><p><strong>pyspark集成</strong><br/>
大数据相关技术的发展，jupyter支持与spark进行相关集成</p><h3 id="技术架构分析">技术架构分析</h3><p>jupyter 使用了较新的web技术（Websocket等）来保证用户交互的友好性，提供了一种混合的编辑方式, 将程序
代码运行、文字图表编辑等功能糅合在同一电子笔记中, 打破了两者之间的隔离界限.fastpage<sup id="fnref:12"><a class="footnote-ref" href="#fn:12" role="doc-noteref">12</a></sup>介绍了将jupyternotebook内容导出为page，可以直接应用于博客或者出版，进一步提高了jupyter的可扩展性。为了集成和二次开发jupyter，通过文章<code>技术架构分析</code><sup id="fnref:14"><a class="footnote-ref" href="#fn:14" role="doc-noteref">14</a></sup>中对jupyter的技术架构进行简单的了解，得出如下jupyter架构图，<br/><img alt="架构图" class="lazyload" data-sizes="auto" data-src="" data-srcset="/images/posts/jupyter-arch.jpg,  1.5x,  2x" src="/svg/loading.small.min.svg" title="架构图"/></p><h2 id="jupyter竞品分析">jupyter竞品分析</h2><p>通过搜索，Netflix发布的Polynote<sup id="fnref:15"><a class="footnote-ref" href="#fn:15" role="doc-noteref">15</a></sup>有可能成为jupyter的竞品，除此之外，阿里巴巴、kaggle以及大多数据竞赛平台也开始提供类似jupyter的数据分析平台以方便开发者快速使用。</p><p>如果你有更好的想法和建议，欢迎留言。</p><hr/><p><strong>参考</strong></p><section class="footnotes" role="doc-endnotes"><hr/><ol><li id="fn:1" role="doc-endnote"><p><a href="https://www.imooc.com/article/300868" rel="noopener noreffer" target="_blank">jupyter notebook、jupyterlab与jupyterhub的区别与联系</a><a class="footnote-backref" href="#fnref:1" role="doc-backlink">↩︎</a></p></li><li id="fn:2" role="doc-endnote"><p><a href="https://mp.weixin.qq.com/s/O3vXXaqG9-E7mRT-_wARWw" rel="noopener noreffer" target="_blank">数据科学和机器学习，jupyternotebook入门指南</a><a class="footnote-backref" href="#fnref:2" role="doc-backlink">↩︎</a></p></li><li id="fn:3" role="doc-endnote"><p><a href="https://mp.weixin.qq.com/s/aJRVh7BWOMq4KCoBMtLGGw" rel="noopener noreffer" target="_blank">快速学习jupyternotebook</a><a class="footnote-backref" href="#fnref:3" role="doc-backlink">↩︎</a></p></li><li id="fn:4" role="doc-endnote"><p><a href="https://mp.weixin.qq.com/s/24B1TSmMPYphXI-0ij3fJQ" rel="noopener noreffer" target="_blank">jupyter notebook数据格式解析</a><a class="footnote-backref" href="#fnref:4" role="doc-backlink">↩︎</a></p></li><li id="fn:5" role="doc-endnote"><p><a href="https://justpic.org/post/latex-math-symbol/" rel="noopener noreffer" target="_blank">latex数学符号</a><a class="footnote-backref" href="#fnref:5" role="doc-backlink">↩︎</a></p></li><li id="fn:6" role="doc-endnote"><p><a href="https://mp.weixin.qq.com/s/PJmVJ-pESb6bkLf9Nq-A1Q" rel="noopener noreffer" target="_blank">十分钟搭建你的jupyternotebook服务器</a><a class="footnote-backref" href="#fnref:6" role="doc-backlink">↩︎</a></p></li><li id="fn:7" role="doc-endnote"><p><a href="https://mp.weixin.qq.com/s/1nTP7uLAJuOYW-WXVE_-cg" rel="noopener noreffer" target="_blank">使用jupyternotebook进行远程炼丹</a><a class="footnote-backref" href="#fnref:7" role="doc-backlink">↩︎</a></p></li><li id="fn:8" role="doc-endnote"><p><a href="https://mp.weixin.qq.com/s/BSim0lMo0T0JiunnKqHzNg" rel="noopener noreffer" target="_blank">让jupyter更强大的99中武器</a><a class="footnote-backref" href="#fnref:8" role="doc-backlink">↩︎</a></p></li><li id="fn:9" role="doc-endnote"><p><a href="https://github.com/elyra-ai/elyra" rel="noopener noreffer" target="_blank">Elyra：基于AI技术的JupyterLab实用扩展集</a><a class="footnote-backref" href="#fnref:9" role="doc-backlink">↩︎</a></p></li><li id="fn:10" role="doc-endnote"><p><a href="https://medium.com/m/global-identity?redirectUrl=https%3A%2F%2Ftowardsdatascience.com%2Felevate-your-jupyter-notebook-environment-experience-9bdd1101aa54" rel="noopener noreffer" target="_blank">Elevate Your Jupyter Notebook Environment Experience</a><a class="footnote-backref" href="#fnref:10" role="doc-backlink">↩︎</a></p></li><li id="fn:11" role="doc-endnote"><p><a href="https://python.freelycode.com/contribution/detail/1632" rel="noopener noreffer" target="_blank">扩展Jupyter生态系统的99种方法</a><a class="footnote-backref" href="#fnref:11" role="doc-backlink">↩︎</a></p></li><li id="fn:12" role="doc-endnote"><p><a href="https://fastpages.fast.ai/fastpages/jupyter/2020/02/21/introducing-fastpages.html" rel="noopener noreffer" target="_blank">jupyter生成pages</a><a class="footnote-backref" href="#fnref:12" role="doc-backlink">↩︎</a></p></li><li id="fn:13" role="doc-endnote"><p><a href="https://github.com/herqooly/herqooly" rel="noopener noreffer" target="_blank">低代码方式使用jupyter</a><a class="footnote-backref" href="#fnref:13" role="doc-backlink">↩︎</a></p></li><li id="fn:14" role="doc-endnote"><p><a href="https://blog.just4fun.site/post/%E6%9E%B6%E6%9E%84/jupyter-notebook-architecture/" rel="noopener noreffer" target="_blank">jupyter notebook架构分析</a><a class="footnote-backref" href="#fnref:14" role="doc-backlink">↩︎</a></p></li><li id="fn:15" role="doc-endnote"><p><a href="https://mp.weixin.qq.com/s/bwtENwhO7EFQqW5XJduJ-A" rel="noopener noreffer" target="_blank">还有比 Jupyter 更好用的工具</a><a class="footnote-backref" href="#fnref:15" role="doc-backlink">↩︎</a></p></li></ol></section></description></item></channel></rss><script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script><script>
const _do_decrypt = function(encrypted, password) {
  let key = CryptoJS.enc.Utf8.parse(password);
  let iv = CryptoJS.enc.Utf8.parse(password.substr(16));
  let decrypted_data = CryptoJS.AES.decrypt(encrypted, key, {
    iv: iv,
    mode: CryptoJS.mode.CBC,
    padding: CryptoJS.pad.Pkcs7
  });
  return decrypted_data.toString(CryptoJS.enc.Utf8);
};
const _click_handler = function(element) {
  let parent = element.parentNode.parentNode;
  let encrypted = parent.querySelector(
    ".hugo-encryptor-cipher-text").innerText;
  let password = parent.querySelector(
    ".hugo-encryptor-input").value;
  password = CryptoJS.MD5(password).toString();
  let index = -1;
  let elements = document.querySelectorAll(
    ".hugo-encryptor-container");
  for (index = 0; index < elements.length; ++index) {
    if (elements[index].isSameNode(parent)) {
      break;
    }
  }
  let decrypted = "";
  try {
    decrypted = _do_decrypt(encrypted, password);
  } catch (err) {
    console.error(err);
    alert("Failed to decrypt.");
    return;
  }
  if (!decrypted.includes("--- DON'T MODIFY THIS LINE ---")) {
    alert("Incorrect password.");
    return;
  }
  let storage = localStorage;
  let key = location.pathname + ".password." + index;
  storage.setItem(key, password);
  parent.innerHTML = decrypted;
}
window.onload = () => {
  let index = -1;
  let elements = document.querySelectorAll(
    ".hugo-encryptor-container");
  while (1) {
    ++index;
    let key = location.pathname + ".password." + index;
    let password = localStorage.getItem(key);
    if (!password) {
      break;
    } else {
      console.log("Found password for part " + index);
      let parent = elements[index];
      let encrypted = parent.querySelector(".hugo-encryptor-cipher-text").innerText;
      let decrypted = _do_decrypt(encrypted, password);
      elements[index].innerHTML = decrypted;
    }
  }
};</script></body></html>